if(!!window.google&&!!google.maps){function MultiGeometry(n){function u(n,t){var i=new google.maps.Polyline(n);return google.maps.event.addListener(i,"click",function(n){google.maps.event.trigger(t,"click",n)}),google.maps.event.addListener(i,"dblclick",function(n){google.maps.event.trigger(t,"dblclick",n)}),google.maps.event.addListener(i,"mousedown",function(n){google.maps.event.trigger(t,"mousedown",n)}),google.maps.event.addListener(i,"mousemove",function(n){google.maps.event.trigger(t,"mousemove",n)}),google.maps.event.addListener(i,"mouseout",function(n){google.maps.event.trigger(t,"mouseout",n)}),google.maps.event.addListener(i,"mouseover",function(n){google.maps.event.trigger(t,"mouseover",n)}),google.maps.event.addListener(i,"mouseup",function(n){google.maps.event.trigger(t,"mouseup",n)}),google.maps.event.addListener(i,"rightclick",function(n){google.maps.event.trigger(t,"rightclick",n)}),i}var t,r;for(this.setValues(n),this.polylines=[],i=0;i<this.paths.length;i++)t=n,t.path=this.paths[i],r=u(t,this),this.polylines.push(r)}MultiGeometry.prototype=new google.maps.MVCObject,MultiGeometry.prototype.changed=function(n){if(this.polylines)for(var t=0;t<this.polylines.length;t++)this.polylines[t].set(n,this.get(n))},MultiGeometry.prototype.setMap=function(n){this.set("map",n)},MultiGeometry.prototype.getMap=function(){return this.get("map")}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),geoXML3=window.geoXML3||{instances:[]},geoXML3.parser=function(n){function d(n,t){geoXML3.fetchXML(n,function(n){s(n,t)})}function o(n,t,r){var e=geoXML3.nodeValue,f;return t[r]=t[r]||u(i),f=n.getElementsByTagName("IconStyle"),!!f&&!!f.length&&f.length>0&&(t[r].scale=parseFloat(e(f[0].getElementsByTagName("scale")[0]))),isNaN(t[r].scale)&&(t[r].scale=1),f=n.getElementsByTagName("Icon"),!!f&&!!f.length&&f.length>0&&(t[r].href=e(f[0].getElementsByTagName("href")[0])),f=n.getElementsByTagName("LineStyle"),!!f&&!!f.length&&f.length>0&&(t[r].color=e(f[0].getElementsByTagName("color")[0],i.color),t[r].colorMode=e(f[0].getElementsByTagName("colorMode")[0],i.colorMode),t[r].width=e(f[0].getElementsByTagName("width")[0],i.width)),f=n.getElementsByTagName("PolyStyle"),!!f&&!!f.length&&f.length>0&&(t[r].outline=v(f[0].getElementsByTagName("outline")[0],i.outline),t[r].fill=v(f[0].getElementsByTagName("fill")[0],i.fill),t[r].colorMode=e(f[0].getElementsByTagName("colorMode")[0],i.colorMode),t[r].fillcolor=e(f[0].getElementsByTagName("color")[0],i.fillcolor)),t[r]}function u(n){var t,i;if(n==null||typeof n!="object")return n;t=new n.constructor;for(i in n)t[i]=u(n[i]);return t}function tt(n,r,f){for(var l=geoXML3.nodeValue,h=n.getElementsByTagName("Pair"),e={},s=0;s<h.length;s++){var v=l(h[s].getElementsByTagName("key")[0]),y=l(h[s].getElementsByTagName("Style")[0]),a=l(h[s].getElementsByTagName("styleUrl")[0]);y?o(y,e[v],f):!a||!r[a]||(e[v]=u(r[a]))}r[f]=e.normal?u(e.normal):u(i),!e.highlight||!t.processStyles||c(e.highlight),r[f].map=u(e)}function v(n){var t=geoXML3.nodeValue(n);return t?(t&&(t=parseInt(t)),isNaN(t))?!0:t==0?!1:!0:!0}function f(n,t){for(var s=n.getElementsByTagName(t),o=[],u,f,i,e,r=0;r<s.length;r++){if(u=s[r].getElementsByTagName("coordinates"),!u)if(o.length>0)break;else return[{coordinates:[]}];for(f=0;f<u.length;f++){i=geoXML3.nodeValue(u[f]).trim(),i=i.replace(/,\s+/g,",");var h=i.split(/\s+/g),l=h.length,c=[];for(e=0;e<l;e++)i=h[e].split(","),isNaN(i[0])||isNaN(i[1])||c.push({lat:parseFloat(i[1]),lng:parseFloat(i[0]),alt:parseFloat(i[2])});o.push({coordinates:c})}}return o}var t,r,rt,e,l,a;google.maps.MVCObject.call(this),t=geoXML3.combineOptions(n,{singleInfoWindow:!1,processStyles:!0,zoom:!0}),r=[],typeof t.suppressInfoWindows=="undefined"&&(t.suppressInfoWindows=!1),t.infoWindow||!t.singleInfoWindow||!window.google||!google.maps||(t.infoWindow=new google.maps.InfoWindow),geoXML3.xhrTimeout=6e4,!t.xhrTimeout||(geoXML3.xhrTimeout=t.xhrTimeout),l=function(n,i){var r={parser:this,docSet:i||[],remaining:1,parseOnly:!(t.afterParse||t.processStyles)};thisDoc={},thisDoc.internals=r,r.docSet.push(thisDoc),s(geoXML3.xmlParse(n),thisDoc)},a=function(n,i){var s,u,f,o,h,c;for(e||(e="geoXML3.instances["+(geoXML3.instances.push(this)-1)+"]"),typeof n=="string"&&(n=[n]),s={parser:this,docSet:i||[],remaining:n.length,parseOnly:!(t.afterParse||t.processStyles)},o=0;o<n.length;o++){for(h=n[o].split("?")[0],f=0;f<r.length;f++)if(h===r[f].baseUrl){u=r[f],u.reload=!0;break}f>=r.length&&(u={},u.baseUrl=h,s.docSet.push(u)),u.url=n[o],u.internals=s,c=u.url,t.proxy&&(c=t.proxy+u.url),d(c,u)}};var g=function(n){n||(n=r[0]);var t;if(!!window.google&&!!google.maps){if(!!n.markers)for(t=0;t<n.markers.length;t++)!n.markers[t].infoWindow||n.markers[t].infoWindow.close(),n.markers[t].setVisible(!1);if(!!n.ggroundoverlays)for(t=0;t<n.ggroundoverlays.length;t++)n.ggroundoverlays[t].setOpacity(0);if(!!n.gpolylines)for(t=0;t<n.gpolylines.length;t++)!n.gpolylines[t].infoWindow||n.gpolylines[t].infoWindow.close(),n.gpolylines[t].setMap(null);if(!!n.gpolygons)for(t=0;t<n.gpolygons.length;t++)!n.gpolygons[t].infoWindow||n.gpolygons[t].infoWindow.close(),n.gpolygons[t].setMap(null)}},nt=function(n){n||(n=r[0]);var i;if(!!window.google&&!!google.maps){if(!!n.markers)for(i=0;i<n.markers.length;i++)n.markers[i].setVisible(!0);if(!!n.ggroundoverlays)for(i=0;i<n.ggroundoverlays.length;i++)n.ggroundoverlays[i].setOpacity(n.ggroundoverlays[i].percentOpacity_);if(!!n.gpolylines)for(i=0;i<n.gpolylines.length;i++)n.gpolylines[i].setMap(t.map);if(!!n.gpolygons)for(i=0;i<n.gpolygons.length;i++)n.gpolygons[i].setMap(t.map)}},i={color:"ff000000",colorMode:"normal",width:1,fill:!0,outline:!0,fillcolor:"3fff0000"};var s=function(n,s){var ct,gt,lt,ui,ft,a,nt,l,fi,ei,ni,at,vt,ri,pt,wt,yt,rt,bt,et,ti,it,ut,d,oi,si,ii,kt,st,ot,g,v,ht,dt,h;if(n)if(s){for(ct={},s.placemarks=[],s.groundoverlays=[],s.ggroundoverlays=[],s.networkLinks=[],s.gpolygons=[],s.gpolylines=[],s.markers=[],gt=geoXML3.nodeValue,nodes=n.getElementsByTagName("Style"),nodeCount=nodes.length,h=0;h<nodeCount;h++)thisNode=nodes[h],ft=thisNode.getAttribute("id"),!ft||(lt="#"+ft,o(thisNode,ct,lt));for(nodes=n.getElementsByTagName("StyleMap"),h=0;h<nodes.length;h++)thisNode=nodes[h],ft=thisNode.getAttribute("id"),!ft||(lt="#"+ft,tt(thisNode,ct,lt));if(s.styles=ct,!t.processStyles&&t.createMarker||y(s),!!s.reload&&!!s.markers)for(h=0;h<s.markers.length;h++)s.markers[h].active=!1;for(pt=n.getElementsByTagName("Placemark"),pm=0;pm<pt.length;pm++){if(a=pt[pm],l={name:geoXML3.nodeValue(a.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(a.getElementsByTagName("description")[0]),styleUrl:geoXML3.nodeValue(a.getElementsByTagName("styleUrl")[0]),id:a.getAttribute("id")},l.style=s.styles[l.styleUrl]||u(i),wt=a.getElementsByTagName("Style"),wt&&wt.length>0&&(yt=o(a,s.styles,"inline"),c(yt),yt&&(l.style=yt)),/^https?:\/\//.test(l.description)&&(l.description=['<a href="',l.description,'">',l.description,"<\/a>"].join("")),rt=a.getElementsByTagName("coordinates"),bt=null,!!rt&&rt.length>0)for(et=0;et<rt.length;et++)if(rt[et].parentNode&&rt[et].parentNode.nodeName){ti=rt[et].parentNode,bt=ti.nodeName;switch(bt){case"Point":l.Point=f(a,"Point")[0],!window.google||!google.maps||(l.latlng=new google.maps.LatLng(l.Point.coordinates[0].lat,l.Point.coordinates[0].lng)),ni=1;break;case"LinearRing":for(vt=a.getElementsByTagName("Polygon"),l.Polygon||(l.Polygon=[{outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]}]),it=0;it<vt.length;it++)l.Polygon[it]={outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]},l.Polygon[it].outerBoundaryIs=f(vt[it],"outerBoundaryIs"),l.Polygon[it].innerBoundaryIs=f(vt[it],"innerBoundaryIs");ri=l.Polygon[0].outerBoundaryIs;break;case"LineString":ni=0,l.LineString=f(a,"LineString")}}if(!t.pmParseFn||t.pmParseFn(a,l),s.placemarks.push(l),!!window.google&&!!google.maps){if(l.Point)if(!window.google||!google.maps||(s.bounds=s.bounds||new google.maps.LatLngBounds,s.bounds.extend(l.latlng)),!t.createMarker){if(ot=!1,!!s&&(s.markers=s.markers||[],s.reload))for(ut=0;ut<s.markers.length;ut++)if(s.markers[ut].id==l.id||!s.markers[ut].id&&s.markers[ut].getPosition().equals(l.latlng)){ot=s.markers[ut].active=!0;break}ot||(at=p(l,s),at&&(at.active=!0,at.id=l.id))}else t.createMarker(l,s);l.Polygon&&(!s||(s.gpolygons=s.gpolygons||[]),t.createPolygon?nt=t.createPolygon(l,s):(nt=k(l,s),nt.active=!0),!window.google||!google.maps||(s.bounds=s.bounds||new google.maps.LatLngBounds,s.bounds.union(nt.bounds))),l.LineString&&(!s||(s.gpolylines=s.gpolylines||[]),t.createPolyline?nt=t.createPolyline(l,s):(nt=b(l,s),nt.active=!0),!window.google||!google.maps||(s.bounds=s.bounds||new google.maps.LatLngBounds,s.bounds.union(nt.bounds)))}}if(!!s.reload&&!!s.markers)for(h=s.markers.length-1;h>=0;h--)s.markers[h].active||(!s.markers[h].infoWindow||s.markers[h].infoWindow.close(),s.markers[h].setMap(null),s.markers.splice(h,1));if(!!s.reload&&!!s.groundoverlays)for(h=0;h<s.groundoverlays.length;h++)s.groundoverlays[h].active=!1;for(!s||(s.groundoverlays=s.groundoverlays||[]),kt=n.getElementsByTagName("GroundOverlay"),h=0;h<kt.length;h++)if(a=kt[h],d={name:geoXML3.nodeValue(a.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(a.getElementsByTagName("description")[0]),icon:{href:geoXML3.nodeValue(a.getElementsByTagName("href")[0])},latLonBox:{north:parseFloat(geoXML3.nodeValue(a.getElementsByTagName("north")[0])),east:parseFloat(geoXML3.nodeValue(a.getElementsByTagName("east")[0])),south:parseFloat(geoXML3.nodeValue(a.getElementsByTagName("south")[0])),west:parseFloat(geoXML3.nodeValue(a.getElementsByTagName("west")[0]))}},!window.google||!google.maps||(s.bounds=s.bounds||new google.maps.LatLngBounds,s.bounds.union(new google.maps.LatLngBounds(new google.maps.LatLng(d.latLonBox.south,d.latLonBox.west),new google.maps.LatLng(d.latLonBox.north,d.latLonBox.east)))),st=a.getElementsByTagName("color"),d.opacity=st&&st.length&&st.length>0?geoXML3.getOpacity(gt(st[0])):.45,s.groundoverlays.push(d),!!window.google&&!!google.maps){if(!t.createOverlay){if(ot=!1,!!s&&(s.groundoverlays=s.groundoverlays||[],!!window.google&&!!google.maps&&s.reload))for(overlayBounds=new google.maps.LatLngBounds(new google.maps.LatLng(d.latLonBox.south,d.latLonBox.west),new google.maps.LatLng(d.latLonBox.north,d.latLonBox.east)),g=s.groundoverlays,h=g.length;h--;)if(g[h].bounds().equals(overlayBounds)&&g.url_===d.icon.href){ot=g[h].active=!0;break}ot||(ii=w(d,s),ii.active=!0)}else t.createOverlay(d,s);if(!!s.reload&&!!s.groundoverlays&&!!s.groundoverlays.length){for(g=s.groundoverlays,h=g.length;h--;)g[h].active||(g[h].remove(),g.splice(h,1));s.groundoverlays=g}}for(ht=document.location.pathname.split("/"),ht=ht.splice(0,ht.length-1).join("/"),dt=n.getElementsByTagName("NetworkLink"),h=0;h<dt.length;h++)a=dt[h],v={name:geoXML3.nodeValue(a.getElementsByTagName("name")[0]),link:{href:geoXML3.nodeValue(a.getElementsByTagName("href")[0]),refreshMode:geoXML3.nodeValue(a.getElementsByTagName("refreshMode")[0])}},v.link.refreshMode===""&&(v.link.refreshMode="onChange"),v.link.refreshMode==="onInterval"?(v.link.refreshInterval=parseFloat(geoXML3.nodeValue(a.getElementsByTagName("refreshInterval")[0])),isNaN(v.link.refreshInterval)&&(v.link.refreshInterval=0)):v.link.refreshMode==="onChange"&&(v.link.viewRefreshMode=geoXML3.nodeValue(a.getElementsByTagName("viewRefreshMode")[0]),v.link.viewRefreshMode===""&&(v.link.viewRefreshMode="never"),v.link.viewRefreshMode==="onStop"&&(v.link.viewRefreshTime=geoXML3.nodeValue(a.getElementsByTagName("refreshMode")[0]),v.link.viewFormat=geoXML3.nodeValue(a.getElementsByTagName("refreshMode")[0]),v.link.viewFormat===""&&(v.link.viewFormat="BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]"))),/^[\/|http]/.test(v.link.href)||(v.link.href=ht+"/"+v.link.href),v.link.refreshMode==="onInterval"&&v.link.refreshInterval>0?setInterval(e+'.parse("'+v.link.href+'")',1e3*v.link.refreshInterval):v.link.refreshMode==="onChange"&&(v.link.viewRefreshMode==="never"?s.internals.parser.parse(v.link.href,s.internals.docSet):v.link.viewRefreshMode==="onStop")}else throw"geoXML3 internal error: render called with null document";else geoXML3.log("Unable to retrieve "+s.url),t.failedParse&&t.failedParse(s);if(!s.bounds||!window.google||!google.maps||(s.internals.bounds=s.internals.bounds||new google.maps.LatLngBounds,s.internals.bounds.union(s.bounds)),!s.markers&&!s.groundoverlays&&!s.gpolylines&&!s.gpolygons||(s.internals.parseOnly=!1),s.internals.remaining-=1,s.internals.remaining===0){if(!t.zoom||!s.internals.bounds||s.internals.bounds.isEmpty()||!t.map||t.map.fitBounds(s.internals.bounds),t.afterParse&&t.afterParse(s.internals.docSet),!s.internals.parseOnly)for(h=0;h<s.internals.docSet.length;h++)r.push(s.internals.docSet[h]);google.maps.event.trigger(s.internals.parser,"parsed")}},h=function(n,t){var i={};n=n||"ffffffff";var e=n.substr(0,2),r=n.substr(2,2),u=n.substr(4,2),f=n.substr(6,2);return i.opacity=parseInt(e,16)/256,i.color=t==="random"?it(f,u,r):"#"+f+u+r,i},it=function(n,t,i){var u={rr:n,gg:t,bb:i},f,r;for(f in u)r=u[f],r==null&&(r="ff"),r=Math.round(Math.random()*parseInt(n,16)).toString(16),r.length===1&&(r="0"+r),u[f]=r;return"#"+u.rr+u.gg+u.bb},c=function(n){var i,f,r;if(!!window.google&&!!google.maps&&(i=new google.maps.Point(0,0),!!n.href)){f=/\/(red|blue|green|yellow|lightblue|purple|pink|orange|pause|go|stop)(-dot)?\.png/,r=f.test(n.href)?new google.maps.Point(16*n.scale,32*n.scale):new google.maps.Point(16*n.scale,16*n.scale),n.icon=new google.maps.MarkerImage(n.href,new google.maps.Size(32*n.scale,32*n.scale),i,r,new google.maps.Size(32*n.scale,32*n.scale));var e=/\/(red|blue|green|yellow|lightblue|purple|pink|orange)(-dot)?\.png/,t=new google.maps.Size(59,32),u=new google.maps.Point(16,32);n.shadow=e.test(n.href)?new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/msmarker.shadow.png",t,i,u,t):n.href.indexOf("-pushpin.png")>-1?new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/pushpin_shadow.png",t,i,u,t):new google.maps.MarkerImage(n.href.replace(".png",".shadow.png"),t,i,u,t)}},y=function(n){for(var t in n.styles)c(n.styles[t])},p=function(n,i){var f=geoXML3.combineOptions(t.markerOptions,{map:t.map,position:new google.maps.LatLng(n.Point.coordinates[0].lat,n.Point.coordinates[0].lng),title:n.name,zIndex:Math.round(n.Point.coordinates[0].lat*-1e5)<<5,icon:n.style.icon,shadow:n.style.shadow}),r=new google.maps.Marker(f),u;return!i||i.markers.push(r),t.suppressInfoWindows||(u=geoXML3.combineOptions(t.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+n.name+"<\/h3><div>"+n.description+"<\/div><\/div>",pixelOffset:new google.maps.Size(0,2)}),r.infoWindow=t.infoWindow?t.infoWindow:new google.maps.InfoWindow(u),r.infoWindowOptions=u,google.maps.event.addListener(r,"click",function(){this.infoWindow.close(),r.infoWindow.setOptions(this.infoWindowOptions),this.infoWindow.open(this.map,this)})),n.marker=r,r},w=function(n,i){if(!window.ProjectedOverlay)throw"geoXML3 error: ProjectedOverlay not found while rendering GroundOverlay from KML";var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.latLonBox.south,n.latLonBox.west),new google.maps.LatLng(n.latLonBox.north,n.latLonBox.east)),f=geoXML3.combineOptions(t.overlayOptions,{percentOpacity:n.opacity*100}),r=new ProjectedOverlay(t.map,n.icon.href,u,f);return!i||(i.ggroundoverlays=i.ggroundoverlays||[],i.ggroundoverlays.push(r)),r},b=function(n,i){for(var u=[],v=new google.maps.LatLngBounds,o,s,f,l,r,a,e=0;e<n.LineString.length;e++){for(o=[],s=n.LineString[e].coordinates,f=0;f<s.length;f++)l=new google.maps.LatLng(s[f].lat,s[f].lng),o.push(l),v.extend(l);u.push(o)}var p=u[0][Math.floor(o.length/2)],y=h(n.style.color,n.style.colorMode),c=geoXML3.combineOptions(t.polylineOptions,{map:t.map,strokeColor:y.color,strokeWeight:n.style.width,strokeOpacity:y.opacity,title:n.name});return u.length>1?(c.paths=u,r=new MultiGeometry(c)):(c.path=u[0],r=new google.maps.Polyline(c)),r.bounds=v,t.suppressInfoWindows||(a=geoXML3.combineOptions(t.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+n.name+"<\/h3><div>"+n.description+"<\/div><\/div>",pixelOffset:new google.maps.Size(0,2)}),r.infoWindow=t.infoWindow?t.infoWindow:new google.maps.InfoWindow(a),r.infoWindowOptions=a,google.maps.event.addListener(r,"click",function(n){r.infoWindow.close(),r.infoWindow.setOptions(r.infoWindowOptions),n&&n.latLng?r.infoWindow.setPosition(n.latLng):r.infoWindow.setPosition(p),r.infoWindow.open(r.map||r.polylines[0].map)})),!i||i.gpolylines.push(r),n.polyline=r,r},k=function(n,i){for(var v=new google.maps.LatLngBounds,b=0,y=[],f,e,o,u,c,l,a,p,k,r,w,s=0;s<n.Polygon.length;s++){for(f=0;f<n.Polygon[s].outerBoundaryIs.length;f++){for(e=n.Polygon[s].outerBoundaryIs[f].coordinates,o=[],u=0;u<e.length;u++)c=new google.maps.LatLng(e[u].lat,e[u].lng),o.push(c),v.extend(c);y.push(o),b+=o.length}for(f=0;f<n.Polygon[s].innerBoundaryIs.length;f++){for(e=n.Polygon[s].innerBoundaryIs[f].coordinates,o=[],u=0;u<e.length;u++)c=new google.maps.LatLng(e[u].lat,e[u].lng),o.push(c),v.extend(c);y.push(o),b+=o.length}}return l=h(n.style.color,n.style.colorMode),a=h(n.style.fillcolor,n.style.colorMode),n.style.fill||(a.opacity=0),p=n.style.width,n.style.outline||(p=0,l.opacity=0),k=geoXML3.combineOptions(t.polygonOptions,{map:t.map,paths:y,title:n.name,strokeColor:l.color,strokeWeight:p,strokeOpacity:l.opacity,fillColor:a.color,fillOpacity:a.opacity}),r=new google.maps.Polygon(k),r.bounds=v,t.suppressInfoWindows||(w=geoXML3.combineOptions(t.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+n.name+"<\/h3><div>"+n.description+"<\/div><\/div>",pixelOffset:new google.maps.Size(0,2)}),r.infoWindow=t.infoWindow?t.infoWindow:new google.maps.InfoWindow(w),r.infoWindowOptions=w,google.maps.event.addListener(r,"click",function(n){r.infoWindow.close(),r.infoWindow.setOptions(r.infoWindowOptions),n&&n.latLng?r.infoWindow.setPosition(n.latLng):r.infoWindow.setPosition(r.bounds.getCenter()),r.infoWindow.open(this.map)})),!i||i.gpolygons.push(r),n.polygon=r,r};return{options:t,docs:r,parse:a,render:s,parseKmlString:l,hideDocument:g,showDocument:nt,processStyles:y,createMarker:p,createOverlay:w,createPolyline:b,createPolygon:k}},geoXML3.getOpacity=function(n){if(!n||n===""||n.length!=8)return 1;var t=parseInt(n.substr(0,2),16);return t/255},geoXML3.log=function(n){window.console?console.log(n):alert("log:"+n)},geoXML3.combineOptions=function(n,t){var r={},i;if(!!n)for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);if(!!t)for(i in t)t.hasOwnProperty(i)&&r[i]===undefined&&(r[i]=t[i]);return r},geoXML3.fetchers=[],geoXML3.xmlParse=function(n){if(typeof ActiveXObject!="undefined"&&typeof GetObject!="undefined"){var t=new ActiveXObject("Microsoft.XMLDOM");return t.loadXML(n),t}return typeof DOMParser!="undefined"?(new DOMParser).parseFromString(n,"text/xml"):createElement("div",null)},geoXML3.fetchXML=function(n,t){function r(){geoXML3.log("XHR timeout"),t()}var i={};geoXML3.fetchers.length?i=geoXML3.fetchers.pop():window.XMLHttpRequest?i.fetcher=new window.XMLHttpRequest:!window.ActiveXObject||(i.fetcher=new window.ActiveXObject("Microsoft.XMLHTTP")),i.fetcher?(i.fetcher.open("GET",n,!0),i.fetcher.overrideMimeType&&i.fetcher.overrideMimeType("text/xml"),i.fetcher.onreadystatechange=function(){if(i.fetcher.readyState===4){if(!i.xhrtimeout||clearTimeout(i.xhrtimeout),i.fetcher.status>=400)geoXML3.log("HTTP error "+i.fetcher.status+" retrieving "+n),t();else{var r=geoXML3.xmlParse(i.fetcher.responseText);r.parseError&&r.parseError.errorCode!=0&&geoXML3.log("XML parse error "+r.parseError.errorCode+", "+r.parseError.reason+"\nLine:"+r.parseError.line+", Position:"+r.parseError.linepos+", srcText:"+r.parseError.srcText),t(r)}geoXML3.fetchers.push(i)}},i.xhrtimeout=setTimeout(r,geoXML3.xhrTimeout),i.fetcher.send(null)):(geoXML3.log("Unable to create XHR object"),t(null))},geoXML3.nodeValue=function(n,t){var r="",i;if(!n)return typeof t=="undefined"||t===null?"":t;if(n.nodeType==3||n.nodeType==4||n.nodeType==2)r+=n.nodeValue;else if(n.nodeType==1||n.nodeType==9||n.nodeType==11)for(i=0;i<n.childNodes.length;++i)r+=arguments.callee(n.childNodes[i]);return r}